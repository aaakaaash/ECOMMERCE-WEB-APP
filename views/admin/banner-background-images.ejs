<style>
  table {
    table-layout: fixed;
    width: 100%;
  }
  
  th, td {
    word-wrap: break-word; 
  }


  th:nth-child(1), td:nth-child(1) { 
    width: 20%; 
  }

  th:nth-child(2), td:nth-child(2) { 
    width: 15%;
  }

  th:nth-child(3), td:nth-child(3) { 
    width: 15%;
  }

  th:nth-child(4), td:nth-child(4) { 
    width: 30%;
  }

  th:nth-child(5), td:nth-child(5) { 
    width: 10%;
  }

  th:nth-child(6), td:nth-child(6) { 
    width: 10%;
  }
</style>



<%- include("../../views/partials/admin/header") %>

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.css">
</head>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-12">
    <br><br>

      <h2 class="mb-4">Banner & Background Images</h2>
      <br><br>
      <div class="row mb-4">
        <div class="col">
          <h4 class="h4">Manage Images</h4>
        </div>
        <div class="col text-end">
          <a href="/admin/banner-background/add-banner-background" class="btn btn-primary" style="display: none;">+ Add New</a>
        </div>
      </div>

      <!-- Search Form -->
      <form action="" method="get" class="d-inline mb-4">
        <div class="input-group input-group-sm border rounded-pill" style="max-width: 500px;">
          <input type="text" class="form-control border-0 rounded-pill" placeholder="Search type of images" name="search">
          <button class="btn border-0" type="submit">Search</button>
        </div>
      </form>
      <br>

      <!-- Table -->
      <% if (data.length > 0) { %>
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th scope="col">Image</th>
              <th scope="col">Type</th>
              <th scope="col">Page</th>
              <th scope="col">Position</th> 
              <th scope="col">Edit Image</th>
            </tr>
          </thead>
          <tbody>
            <% data.forEach(image => { %>
            <tr>
              <td><img src="/uploads/images-UI/<%= image.image %>" alt="<%= image.altText || 'Image' %>" class="img-thumbnail" style="max-width: 150px;"></td> <!-- Fixed image path -->
              <td><%= image.imageType %></td>
              <td><%= image.page %></td>
              <td><%= image.altText %></td> 
              <td>
                <a href="/admin/banner-background/edit-image/<%= image._id %>" class="btn btn-warning">Edit</a>
              </td>
              
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
          <% for (let i = 1; i <= totalPages; i++) { %>
          <li class="page-item <%= (i === currentPage) ? 'active' : '' %>">
            <a class="page-link" href="?page=<%= i %>"><%= i %></a>
          </li>
          <% } %>
        </ul>
      </nav>
      <% } else { %>
      <div class="alert alert-warning text-center" role="alert">
        No images found!
      </div>
      <% } %>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<%- include("../../views/partials/admin/footer") %>

